# StudyArena

StudyArenaã¯ã€å­¦ç¿’æ™‚é–“ã‚’è¨˜éŒ²ãƒ»ç®¡ç†ã—ã€ä»–ã®ãƒ¦ãƒ¼ã‚¶ãƒ¼ã¨ç«¶ã„åˆã†ã“ã¨ãŒã§ãã‚‹iOSã‚¢ãƒ—ãƒªã§ã™ã€‚Firebaseã‚’ãƒãƒƒã‚¯ã‚¨ãƒ³ãƒ‰ã¨ã—ã¦ä½¿ç”¨ã—ã€ãƒªã‚¢ãƒ«ã‚¿ã‚¤ãƒ ã§ã®å­¦ç¿’ãƒ‡ãƒ¼ã‚¿åŒæœŸã¨ãƒ¦ãƒ¼ã‚¶ãƒ¼é–“ã§ã®ãƒ©ãƒ³ã‚­ãƒ³ã‚°æ©Ÿèƒ½ã‚’æä¾›ã—ã¾ã™ã€‚

## æ©Ÿèƒ½

### ğŸ¯ ä¸»è¦æ©Ÿèƒ½
- **å­¦ç¿’ã‚¿ã‚¤ãƒãƒ¼**: é›†ä¸­æ™‚é–“ã‚’æ¸¬å®šãƒ»è¨˜éŒ²
- **å…¨å›½ãƒ©ãƒ³ã‚­ãƒ³ã‚°**: ä»–ã®ãƒ¦ãƒ¼ã‚¶ãƒ¼ã¨å­¦ç¿’æ™‚é–“ã‚’ç«¶äº‰
- **å­¦ç¿’è¨˜éŒ²**: æ—¥åˆ¥ãƒ»æœŸé–“åˆ¥ã®å­¦ç¿’çµ±è¨ˆ
- **ã‚¿ã‚¤ãƒ ãƒ©ã‚¤ãƒ³**: å­¦ç¿’æ´»å‹•ã®å±¥æ­´è¡¨ç¤º
- **å ±é…¬ã‚·ã‚¹ãƒ†ãƒ **: å­¦ç¿’é”æˆã«å¿œã˜ãŸãƒãƒƒã‚¸ã‚„ãƒ¬ãƒ™ãƒ«ã‚¢ãƒƒãƒ—
- **ãƒ—ãƒ­ãƒ•ã‚£ãƒ¼ãƒ«ç®¡ç†**: ãƒ¦ãƒ¼ã‚¶ãƒ¼æƒ…å ±ã¨ã‚¢ãƒã‚¿ãƒ¼ã®ã‚«ã‚¹ã‚¿ãƒã‚¤ã‚º

### ğŸ“± ã‚¤ãƒ³ã‚¿ãƒ¼ãƒ•ã‚§ãƒ¼ã‚¹
- **ãƒ€ãƒ¼ã‚¯ãƒ†ãƒ¼ãƒ**: ç›®ã«å„ªã—ã„ãƒŸãƒ‹ãƒãƒ«ãªãƒ‡ã‚¶ã‚¤ãƒ³
- **ã‚¿ãƒ–ãƒ™ãƒ¼ã‚¹**: ç›´æ„Ÿçš„ãªãƒŠãƒ“ã‚²ãƒ¼ã‚·ãƒ§ãƒ³
- **ãƒªã‚¢ãƒ«ã‚¿ã‚¤ãƒ æ›´æ–°**: FirebaseçµŒç”±ã§ã®å³åº§ãªåŒæœŸ
- **ãƒãƒƒã‚¯ã‚°ãƒ©ã‚¦ãƒ³ãƒ‰å¯¾å¿œ**: ã‚¢ãƒ—ãƒªã‚’é–‰ã˜ã¦ã‚‚å­¦ç¿’æ™‚é–“ã‚’è¿½è·¡

## æŠ€è¡“ã‚¹ã‚¿ãƒƒã‚¯

### ãƒ•ãƒ¬ãƒ¼ãƒ ãƒ¯ãƒ¼ã‚¯
- **SwiftUI**: ãƒ¢ãƒ€ãƒ³ãªUIãƒ•ãƒ¬ãƒ¼ãƒ ãƒ¯ãƒ¼ã‚¯
- **Combine**: ãƒªã‚¢ã‚¯ãƒ†ã‚£ãƒ–ãƒ—ãƒ­ã‚°ãƒ©ãƒŸãƒ³ã‚°
- **Firebase**: ãƒãƒƒã‚¯ã‚¨ãƒ³ãƒ‰ã‚µãƒ¼ãƒ“ã‚¹
  - Firebase Auth: ãƒ¦ãƒ¼ã‚¶ãƒ¼èªè¨¼
  - Firestore: NoSQLãƒ‡ãƒ¼ã‚¿ãƒ™ãƒ¼ã‚¹
  - Firebase App Check: ã‚»ã‚­ãƒ¥ãƒªãƒ†ã‚£
- **UserNotifications**: ãƒ—ãƒƒã‚·ãƒ¥é€šçŸ¥

### ã‚¢ãƒ¼ã‚­ãƒ†ã‚¯ãƒãƒ£
- **MVVM**: Model-View-ViewModelãƒ‘ã‚¿ãƒ¼ãƒ³
- **@StateObject/@ObservableObject**: SwiftUIã®çŠ¶æ…‹ç®¡ç†
- **@MainActor**: ãƒ¡ã‚¤ãƒ³ã‚¹ãƒ¬ãƒƒãƒ‰ã§ã®å®‰å…¨ãªæ›´æ–°
- **Swift Concurrency**: async/awaitã«ã‚ˆã‚‹éåŒæœŸå‡¦ç†

## ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆæ§‹æˆ

```
StudyArena/
â”œâ”€â”€ StudyArena.swift           # ãƒ¡ã‚¤ãƒ³ã‚¢ãƒ—ãƒªã‚¨ãƒ³ãƒˆãƒªãƒ¼ãƒã‚¤ãƒ³ãƒˆ
â”œâ”€â”€ ContentView.swift          # ãƒ«ãƒ¼ãƒˆãƒ“ãƒ¥ãƒ¼
â”œâ”€â”€ MainTabView.swift          # ã‚¿ãƒ–ãƒ™ãƒ¼ã‚¹ã®ãƒ¡ã‚¤ãƒ³ãƒ“ãƒ¥ãƒ¼
â”œâ”€â”€ MainViewModel.swift        # ãƒ¡ã‚¤ãƒ³ã®ãƒ“ã‚¸ãƒã‚¹ãƒ­ã‚¸ãƒƒã‚¯
â”œâ”€â”€ Views/
â”‚   â”œâ”€â”€ TimerView.swift       # å­¦ç¿’ã‚¿ã‚¤ãƒãƒ¼ç”»é¢
â”‚   â”œâ”€â”€ RankingView.swift     # ãƒ©ãƒ³ã‚­ãƒ³ã‚°è¡¨ç¤º
â”‚   â”œâ”€â”€ ProfileView.swift     # ãƒ—ãƒ­ãƒ•ã‚£ãƒ¼ãƒ«ç®¡ç†
â”‚   â”œâ”€â”€ RewardSystemView.swift # å ±é…¬ã‚·ã‚¹ãƒ†ãƒ 
â”‚   â”œâ”€â”€ PostCreateView.swift  # æŠ•ç¨¿ä½œæˆ
â”‚   â””â”€â”€ UserStatusCard.swift  # ãƒ¦ãƒ¼ã‚¶ãƒ¼ã‚¹ãƒ†ãƒ¼ã‚¿ã‚¹è¡¨ç¤º
â”œâ”€â”€ Components/
â”‚   â”œâ”€â”€ BackgroundTracker.swift    # ãƒãƒƒã‚¯ã‚°ãƒ©ã‚¦ãƒ³ãƒ‰è¿½è·¡
â”‚   â”œâ”€â”€ NotificationManager.swift  # é€šçŸ¥ç®¡ç†
â”‚   â”œâ”€â”€ FeedbackView.swift         # ãƒ•ã‚£ãƒ¼ãƒ‰ãƒãƒƒã‚¯
â”‚   â””â”€â”€ SideNavigationView.swift   # ã‚µã‚¤ãƒ‰ãƒ¡ãƒ‹ãƒ¥ãƒ¼
â””â”€â”€ Utils/
    â””â”€â”€ Constants.swift        # å®šæ•°å®šç¾©
```

## ã‚»ãƒƒãƒˆã‚¢ãƒƒãƒ—

### å‰ææ¡ä»¶
- Xcode 15.0ä»¥ä¸Š
- iOS 17.0ä»¥ä¸Š
- Firebase ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆ

### ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«æ‰‹é †

1. **ãƒªãƒã‚¸ãƒˆãƒªã®ã‚¯ãƒ­ãƒ¼ãƒ³**
   ```bash
   git clone [repository-url]
   cd StudyArena
   ```

2. **Firebaseè¨­å®š**
   - [Firebase Console](https://console.firebase.google.com/)ã§ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆã‚’ä½œæˆ
   - `GoogleService-Info.plist`ã‚’ãƒ€ã‚¦ãƒ³ãƒ­ãƒ¼ãƒ‰ã—ã¦ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆã«è¿½åŠ 
   - Firestoreã€Firebase Authã‚’æœ‰åŠ¹åŒ–

3. **Xcodeè¨­å®š**
   - `StudyArena.xcodeproj`ã‚’Xcodeã§é–‹ã
   - Bundle Identifierã‚’è¨­å®š
   - Signing & Capabilitiesã‚’è¨­å®š

4. **ãƒ“ãƒ«ãƒ‰ã¨å®Ÿè¡Œ**
   ```bash
   # ã‚·ãƒŸãƒ¥ãƒ¬ãƒ¼ã‚¿ãƒ¼
   cmd + R ã§ãƒ“ãƒ«ãƒ‰ãƒ»å®Ÿè¡Œ
   
   # å®Ÿæ©Ÿãƒ‡ãƒã‚¤ã‚¹
   é–‹ç™ºè€…ã‚¢ã‚«ã‚¦ãƒ³ãƒˆã§ã‚³ãƒ¼ãƒ‰ç½²åå¾Œã«å®Ÿè¡Œ
   ```

## Firebaseè¨­å®š

### Firestoreãƒ‡ãƒ¼ã‚¿ãƒ™ãƒ¼ã‚¹æ§‹é€ 
```
users/
  â”œâ”€â”€ {userId}/
  â”‚   â”œâ”€â”€ nickname: String
  â”‚   â”œâ”€â”€ totalStudyTime: Number
  â”‚   â”œâ”€â”€ level: Number
  â”‚   â”œâ”€â”€ avatarUrl: String
  â”‚   â””â”€â”€ createdAt: Timestamp

studyRecords/
  â”œâ”€â”€ {recordId}/
  â”‚   â”œâ”€â”€ userId: String
  â”‚   â”œâ”€â”€ duration: Number
  â”‚   â”œâ”€â”€ startTime: Timestamp
  â”‚   â””â”€â”€ endTime: Timestamp

departments/
  â”œâ”€â”€ {departmentId}/
  â”‚   â”œâ”€â”€ name: String
  â”‚   â”œâ”€â”€ memberCount: Number
  â”‚   â””â”€â”€ createdAt: Timestamp
```

### ã‚»ã‚­ãƒ¥ãƒªãƒ†ã‚£ãƒ«ãƒ¼ãƒ«ä¾‹
```javascript
rules_version = '2';
service cloud.firestore {
  match /databases/{database}/documents {
    // ãƒ¦ãƒ¼ã‚¶ãƒ¼ã¯è‡ªåˆ†ã®ãƒ‡ãƒ¼ã‚¿ã®ã¿èª­ã¿æ›¸ãå¯èƒ½
    match /users/{userId} {
      allow read, write: if request.auth != null && request.auth.uid == userId;
    }
    
    // å­¦ç¿’è¨˜éŒ²ã¯èªè¨¼æ¸ˆã¿ãƒ¦ãƒ¼ã‚¶ãƒ¼ã®ã¿
    match /studyRecords/{recordId} {
      allow read, write: if request.auth != null;
    }
  }
}
```

## é–‹ç™º

### ãƒ‡ãƒãƒƒã‚°
- ãƒ—ãƒ¬ãƒ“ãƒ¥ãƒ¼ãƒ¢ãƒ¼ãƒ‰å¯¾å¿œæ¸ˆã¿ï¼ˆãƒ¢ãƒƒã‚¯ãƒ‡ãƒ¼ã‚¿ä½¿ç”¨ï¼‰
- Firebaseã‚¨ãƒŸãƒ¥ãƒ¬ãƒ¼ã‚¿ãƒ¼å¯¾å¿œ
- è©³ç´°ãªãƒ­ã‚°å‡ºåŠ›

### æ–°æ©Ÿèƒ½è¿½åŠ 
1. `MainViewModel.swift`ã«ãƒ“ã‚¸ãƒã‚¹ãƒ­ã‚¸ãƒƒã‚¯ã‚’è¿½åŠ 
2. å¯¾å¿œã™ã‚‹SwiftUIãƒ“ãƒ¥ãƒ¼ã‚’ä½œæˆ
3. `MainTabView.swift`ã«ãƒŠãƒ“ã‚²ãƒ¼ã‚·ãƒ§ãƒ³ã‚’è¿½åŠ 

### ãƒ†ã‚¹ãƒˆ
```swift
// Swift Testingãƒ•ãƒ¬ãƒ¼ãƒ ãƒ¯ãƒ¼ã‚¯ã‚’ä½¿ç”¨
import Testing

@Suite("StudyArena Tests")
struct StudyArenaTests {
    
    @Test("Timer calculation")
    func timerCalculation() async throws {
        let viewModel = MainViewModel()
        // ãƒ†ã‚¹ãƒˆã‚³ãƒ¼ãƒ‰
    }
}
```

## è²¢çŒ®

1. Forkã‚’ä½œæˆ
2. ãƒ•ã‚£ãƒ¼ãƒãƒ£ãƒ¼ãƒ–ãƒ©ãƒ³ãƒã‚’ä½œæˆ (`git checkout -b feature/amazing-feature`)
3. å¤‰æ›´ã‚’ã‚³ãƒŸãƒƒãƒˆ (`git commit -m 'Add amazing feature'`)
4. ãƒ–ãƒ©ãƒ³ãƒã«ãƒ—ãƒƒã‚·ãƒ¥ (`git push origin feature/amazing-feature`)
5. Pull Requestã‚’ä½œæˆ

## ãƒ©ã‚¤ã‚»ãƒ³ã‚¹

ã“ã®ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆã¯MITãƒ©ã‚¤ã‚»ãƒ³ã‚¹ã®ä¸‹ã§å…¬é–‹ã•ã‚Œã¦ã„ã¾ã™ã€‚è©³ç´°ã¯[LICENSE](LICENSE)ãƒ•ã‚¡ã‚¤ãƒ«ã‚’å‚ç…§ã—ã¦ãã ã•ã„ã€‚

## ã‚µãƒãƒ¼ãƒˆ

å•é¡Œã‚„è³ªå•ãŒã‚ã‚‹å ´åˆã¯ã€[Issues](../../issues)ã«ã¦å ±å‘Šã—ã¦ãã ã•ã„ã€‚

---

**é–‹ç™ºè€…**: StudyArena Team  
**æœ€çµ‚æ›´æ–°**: 2024å¹´11æœˆ